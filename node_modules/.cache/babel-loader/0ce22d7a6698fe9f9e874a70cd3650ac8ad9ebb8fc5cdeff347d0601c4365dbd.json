{"ast":null,"code":"import{useEffect,useState}from\"react\";import{Toaster,toast}from\"react-hot-toast\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const host=\"api.frankfurter.app\";export default function App(){const[amount,setAmount]=useState(\"\");const[from,setFrom]=useState(\"\");const[to,setTo]=useState(\"\");const[currencies,setCurrencies]=useState([]);const[result,setResult]=useState(\"\");const validateData=()=>{let isValid=true;if(!from||!to||from===to||Number(amount)===0){isValid=false;}return isValid;};const handleSubmit=async e=>{e.preventDefault();if(validateData()){try{const response=await fetch(\"https://\".concat(host,\"/latest?amount=\").concat(amount,\"&from=\").concat(from,\"&to=\").concat(to));if(!response.ok){throw new Error(\"Failed to convert. Status: \".concat(response.status));}const data=await response.json();const resultArray=Object.entries(data.rates).map(_ref=>{let[code,value]=_ref;return{code,value};});setResult(resultArray[0].value);toast.success(\"Conversion successful\");}catch(err){console.error(err);toast.error(\"Conversion failed\");}}};useEffect(()=>{fetch(\"https://\".concat(host,\"/currencies\")).then(response=>response.json()).then(data=>{const currencyArray=Object.entries(data).map(_ref2=>{let[code,name]=_ref2;return{code,name};});setCurrencies(currencyArray);}).catch(error=>{console.error(\"Error fetching currencies:\",error);});},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Toaster,{position:\"top-center\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Currency Converter\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"amount\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"input\",{id:\"amount\",name:\"amount\",type:\"text\",value:amount,onChange:e=>{const inputValue=e.target.value.trim();const isValidNumber=!isNaN(inputValue);setAmount(prevValue=>isValidNumber?inputValue:prevValue);setResult(\"\");},placeholder:\"Enter the amount to convert\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"from\",children:\"From\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"from\",name:\"from\",value:from,onChange:e=>{setFrom(e.target.value);setResult(\"\");},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Currency\"}),currencies.map(currency=>/*#__PURE__*/_jsxs(\"option\",{value:currency.code,children:[currency.code,\" - \",currency.name]},currency.code))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"to\",children:\"To\"}),/*#__PURE__*/_jsxs(\"select\",{value:to,id:\"to\",name:\"to\",onChange:e=>{setTo(e.target.value);setResult(\"\");},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Currency\"}),currencies.map(currency=>/*#__PURE__*/_jsxs(\"option\",{value:currency.code,children:[currency.code,\" - \",currency.name]},currency.code))]})]}),result&&/*#__PURE__*/_jsxs(\"section\",{className:\"result-group\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[amount,\" \",from,\" =\"]}),/*#__PURE__*/_jsxs(\"h2\",{children:[result,\" \",to]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:!!result,children:\"Convert\"})]})})]});}","map":{"version":3,"names":["useEffect","useState","Toaster","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","host","App","amount","setAmount","from","setFrom","to","setTo","currencies","setCurrencies","result","setResult","validateData","isValid","Number","handleSubmit","e","preventDefault","response","fetch","concat","ok","Error","status","data","json","resultArray","Object","entries","rates","map","_ref","code","value","success","err","console","error","then","currencyArray","_ref2","name","catch","children","position","className","onSubmit","htmlFor","id","type","onChange","inputValue","target","trim","isValidNumber","isNaN","prevValue","placeholder","currency","disabled"],"sources":["/Users/javivargas04/Library/CloudStorage/GoogleDrive-javier.v.021204@gmail.com/My Drive/Cursos/udemy/The Ultimate React Course 2024/currency-converter-challenge-react/src/App.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Toaster, toast } from \"react-hot-toast\";\n\nconst host = \"api.frankfurter.app\";\n\nexport default function App() {\n  const [amount, setAmount] = useState(\"\");\n  const [from, setFrom] = useState(\"\");\n  const [to, setTo] = useState(\"\");\n  const [currencies, setCurrencies] = useState([]);\n  const [result, setResult] = useState(\"\");\n\n  const validateData = () => {\n    let isValid = true;\n    if (!from || !to || from === to || Number(amount) === 0) {\n      isValid = false;\n    }\n    return isValid;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (validateData()) {\n      try {\n        const response = await fetch(\n          `https://${host}/latest?amount=${amount}&from=${from}&to=${to}`\n        );\n\n        if (!response.ok) {\n          throw new Error(`Failed to convert. Status: ${response.status}`);\n        }\n\n        const data = await response.json();\n        const resultArray = Object.entries(data.rates).map(([code, value]) => ({\n          code,\n          value,\n        }));\n\n        setResult(resultArray[0].value);\n\n        toast.success(\"Conversion successful\");\n      } catch (err) {\n        console.error(err);\n        toast.error(\"Conversion failed\");\n      }\n    }\n  };\n\n  useEffect(() => {\n    fetch(`https://${host}/currencies`)\n      .then((response) => response.json())\n      .then((data) => {\n        const currencyArray = Object.entries(data).map(([code, name]) => ({\n          code,\n          name,\n        }));\n        setCurrencies(currencyArray);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching currencies:\", error);\n      });\n  }, []);\n\n  return (\n    <>\n      <Toaster position=\"top-center\" />\n      <div className=\"form-container\">\n        <form onSubmit={handleSubmit}>\n          <h1>Currency Converter</h1>\n          <div className=\"input-group\">\n            <label htmlFor=\"amount\">Amount</label>\n            <input\n              id=\"amount\"\n              name=\"amount\"\n              type=\"text\"\n              value={amount}\n              onChange={(e) => {\n                const inputValue = e.target.value.trim();\n                const isValidNumber = !isNaN(inputValue);\n\n                setAmount((prevValue) =>\n                  isValidNumber ? inputValue : prevValue\n                );\n                setResult(\"\");\n              }}\n              placeholder=\"Enter the amount to convert\"\n            />\n          </div>\n\n          <div className=\"input-group\">\n            <label htmlFor=\"from\">From</label>\n            <select\n              id=\"from\"\n              name=\"from\"\n              value={from}\n              onChange={(e) => {\n                setFrom(e.target.value);\n                setResult(\"\");\n              }}>\n              <option value=\"\">Select Currency</option>\n              {currencies.map((currency) => (\n                <option key={currency.code} value={currency.code}>\n                  {currency.code} - {currency.name}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"input-group\">\n            <label htmlFor=\"to\">To</label>\n            <select\n              value={to}\n              id=\"to\"\n              name=\"to\"\n              onChange={(e) => {\n                setTo(e.target.value);\n                setResult(\"\");\n              }}>\n              <option value=\"\">Select Currency</option>\n              {currencies.map((currency) => (\n                <option key={currency.code} value={currency.code}>\n                  {currency.code} - {currency.name}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {result && (\n            <section className=\"result-group\">\n              <span>\n                {amount} {from} =\n              </span>\n              <h2>\n                {result} {to}\n              </h2>\n            </section>\n          )}\n\n          <button\n            type=\"submit\"\n            disabled={!!result}>\n            Convert\n          </button>\n        </form>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}